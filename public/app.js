webpackJsonp([0,2],[
/* 0 */
/***/ function(module, exports, __webpack_require__) {

	'use strict';
	console.log("NOT READY");
	
	var consoleKeeper = console;
	
	__webpack_require__.e/*nsure*/(1, function() {
	
	    console.log("ALMOST");
	
	   var
	        Ractive = __webpack_require__(2).Ractive,
	        routingConfig = __webpack_require__(1),
	        page = __webpack_require__(2).page,
	        _ = __webpack_require__(2).lodash,
	        domready = __webpack_require__(2).domready;
	
	    console = consoleKeeper;
	
	    console.log("ALMOST");
	
	    domready(function() {
	
	        console.log("READY");
	
	        function route(currentRoute, context) {
	
	            if (routingConfig[currentRoute] !== undefined) {
	                var currentRouteConfig = routingConfig[currentRoute];
	
	                var dummyData = {};
	                var partials = [];
	                var partialviews = {};
	
	                if (currentRouteConfig.partials !== undefined) {
	                    partials = currentRouteConfig.partials;
	                    partialviews = partials.reduce(function(a, b) {
	                        a[b.name] = b.view;
	                        return a;
	                    }, {});
	                }
	
	                var ractive = new Ractive({
	                    el: "#stage",
	                    template: currentRouteConfig.template,
	                    data: dummyData,
	                    lazy: false,
	                    partials: partialviews
	                });
	
	                currentRouteConfig.model(ractive, dummyData, page, context);
	
	                _(partials).each(function(partial) {
	                    partial.model(ractive);
	                });
	
	            } else {
	
	            }
	        }
	
	        //forcs the request to go to the server rather than the client
	        page.serverMap = function(url) {
	            page(url, function(context) {
	                window.location = url;
	            });
	        }
	
	        page('', function(context) {
	            route("", context);
	        });
	
	        page('/editor', function(context) {
	            route("editor", context);
	        });
	
	        page('/user', function(context) {
	            route("user", context);
	        });
	
	        page('/viewer', function(context) {
	            route("viewer", context);
	        });
	
	        page('/viewer/:tuneid', function(context) {
	            route("viewer", context);
	        });
	
	        page('/tutorial', function(context) {
	            route("tutorial", context);
	        });
	
	        page('/tunebook', function(context) {
	            route("tunebook", context);
	        });
	
	        page('editor/:tuneid', function(context) {
	            route("editor", context);
	        });
	
	        page.serverMap("/auth/google");
	        page.serverMap("/logout");
	
	        page('*', function(context) {
	            console.log("BAD");
	        });
	
	        //route();
	
	        //window.onhashchange = route;
	
	        page.start();
	
	    });
	
	});

/***/ }
]);
//# sourceMappingURL=data:application/json;base64,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RUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLG9CQUFvQjtrQkFDaEMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDO1NBQzVCLENBQUMsQ0FBQzs7YUFFRSxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7YUFDMUIsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7O2FBRXJCLENBQUMsQ0FBQyxDQUFDLENBQUMsb0JBQW9CO29CQUNqQixJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FDdEIsQ0FBQyxDQUFDOztTQUVGLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDOztTQUVULENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDOzthQUV6QixNQUFNLENBQUMsQ0FBQzs7S0FFaEIsQ0FBQyxDQUFDOztBQUVOLEVBQUMsQ0FBQyxDIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xyXG5jb25zb2xlLmxvZyhcIk5PVCBSRUFEWVwiKTtcclxuXHJcbnZhciBjb25zb2xlS2VlcGVyID0gY29uc29sZTtcclxuXHJcbnJlcXVpcmUuZW5zdXJlKCd2ZW5kb3InLCBmdW5jdGlvbigpIHtcclxuXHJcbiAgICBjb25zb2xlLmxvZyhcIkFMTU9TVFwiKTtcclxuXHJcbiAgIHZhclxyXG4gICAgICAgIFJhY3RpdmUgPSByZXF1aXJlKCd2ZW5kb3InKS5SYWN0aXZlLFxyXG4gICAgICAgIHJvdXRpbmdDb25maWcgPSByZXF1aXJlKFwiLi4vcm91dGVzL2NvbmZpZy5yb3V0ZVwiKSxcclxuICAgICAgICBwYWdlID0gcmVxdWlyZSgndmVuZG9yJykucGFnZSxcclxuICAgICAgICBfID0gcmVxdWlyZSgndmVuZG9yJykubG9kYXNoLFxyXG4gICAgICAgIGRvbXJlYWR5ID0gcmVxdWlyZSgndmVuZG9yJykuZG9tcmVhZHk7XHJcblxyXG4gICAgY29uc29sZSA9IGNvbnNvbGVLZWVwZXI7XHJcblxyXG4gICAgY29uc29sZS5sb2coXCJBTE1PU1RcIik7XHJcblxyXG4gICAgZG9tcmVhZHkoKCkgPT4ge1xyXG5cclxuICAgICAgICBjb25zb2xlLmxvZyhcIlJFQURZXCIpO1xyXG5cclxuICAgICAgICBmdW5jdGlvbiByb3V0ZShjdXJyZW50Um91dGUsIGNvbnRleHQpIHtcclxuXHJcbiAgICAgICAgICAgIGlmIChyb3V0aW5nQ29uZmlnW2N1cnJlbnRSb3V0ZV0gIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRSb3V0ZUNvbmZpZyA9IHJvdXRpbmdDb25maWdbY3VycmVudFJvdXRlXTtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgZHVtbXlEYXRhID0ge307XHJcbiAgICAgICAgICAgICAgICB2YXIgcGFydGlhbHMgPSBbXTtcclxuICAgICAgICAgICAgICAgIHZhciBwYXJ0aWFsdmlld3MgPSB7fTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoY3VycmVudFJvdXRlQ29uZmlnLnBhcnRpYWxzICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBwYXJ0aWFscyA9IGN1cnJlbnRSb3V0ZUNvbmZpZy5wYXJ0aWFscztcclxuICAgICAgICAgICAgICAgICAgICBwYXJ0aWFsdmlld3MgPSBwYXJ0aWFscy5yZWR1Y2UoZnVuY3Rpb24oYSwgYikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhW2IubmFtZV0gPSBiLnZpZXc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIHt9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgcmFjdGl2ZSA9IG5ldyBSYWN0aXZlKHtcclxuICAgICAgICAgICAgICAgICAgICBlbDogXCIjc3RhZ2VcIixcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogY3VycmVudFJvdXRlQ29uZmlnLnRlbXBsYXRlLFxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IGR1bW15RGF0YSxcclxuICAgICAgICAgICAgICAgICAgICBsYXp5OiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICBwYXJ0aWFsczogcGFydGlhbHZpZXdzXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICBjdXJyZW50Um91dGVDb25maWcubW9kZWwocmFjdGl2ZSwgZHVtbXlEYXRhLCBwYWdlLCBjb250ZXh0KTtcclxuXHJcbiAgICAgICAgICAgICAgICBfKHBhcnRpYWxzKS5lYWNoKGZ1bmN0aW9uKHBhcnRpYWwpIHtcclxuICAgICAgICAgICAgICAgICAgICBwYXJ0aWFsLm1vZGVsKHJhY3RpdmUpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy9mb3JjcyB0aGUgcmVxdWVzdCB0byBnbyB0byB0aGUgc2VydmVyIHJhdGhlciB0aGFuIHRoZSBjbGllbnRcclxuICAgICAgICBwYWdlLnNlcnZlck1hcCA9IGZ1bmN0aW9uKHVybCkge1xyXG4gICAgICAgICAgICBwYWdlKHVybCwgZnVuY3Rpb24oY29udGV4dCkge1xyXG4gICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uID0gdXJsO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHBhZ2UoJycsIGZ1bmN0aW9uKGNvbnRleHQpIHtcclxuICAgICAgICAgICAgcm91dGUoXCJcIiwgY29udGV4dCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHBhZ2UoJy9lZGl0b3InLCBmdW5jdGlvbihjb250ZXh0KSB7XHJcbiAgICAgICAgICAgIHJvdXRlKFwiZWRpdG9yXCIsIGNvbnRleHQpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBwYWdlKCcvdXNlcicsIGZ1bmN0aW9uKGNvbnRleHQpIHtcclxuICAgICAgICAgICAgcm91dGUoXCJ1c2VyXCIsIGNvbnRleHQpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBwYWdlKCcvdmlld2VyJywgZnVuY3Rpb24oY29udGV4dCkge1xyXG4gICAgICAgICAgICByb3V0ZShcInZpZXdlclwiLCBjb250ZXh0KTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcGFnZSgnL3ZpZXdlci86dHVuZWlkJywgZnVuY3Rpb24oY29udGV4dCkge1xyXG4gICAgICAgICAgICByb3V0ZShcInZpZXdlclwiLCBjb250ZXh0KTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcGFnZSgnL3R1dG9yaWFsJywgZnVuY3Rpb24oY29udGV4dCkge1xyXG4gICAgICAgICAgICByb3V0ZShcInR1dG9yaWFsXCIsIGNvbnRleHQpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBwYWdlKCcvdHVuZWJvb2snLCBmdW5jdGlvbihjb250ZXh0KSB7XHJcbiAgICAgICAgICAgIHJvdXRlKFwidHVuZWJvb2tcIiwgY29udGV4dCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHBhZ2UoJ2VkaXRvci86dHVuZWlkJywgZnVuY3Rpb24oY29udGV4dCkge1xyXG4gICAgICAgICAgICByb3V0ZShcImVkaXRvclwiLCBjb250ZXh0KTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcGFnZS5zZXJ2ZXJNYXAoXCIvYXV0aC9nb29nbGVcIik7XHJcbiAgICAgICAgcGFnZS5zZXJ2ZXJNYXAoXCIvbG9nb3V0XCIpO1xyXG5cclxuICAgICAgICBwYWdlKCcqJywgZnVuY3Rpb24oY29udGV4dCkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkJBRFwiKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy9yb3V0ZSgpO1xyXG5cclxuICAgICAgICAvL3dpbmRvdy5vbmhhc2hjaGFuZ2UgPSByb3V0ZTtcclxuXHJcbiAgICAgICAgcGFnZS5zdGFydCgpO1xyXG5cclxuICAgIH0pO1xyXG5cclxufSk7XG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9hcHAvYXBwLmpzXG4gKiovIl0sInNvdXJjZVJvb3QiOiIiLCJmaWxlIjoiYXBwLmpzIn0=